<app-navbar></app-navbar>
<div *ngIf="currentUser; else loggedOut">
<mat-tab-group>
    <mat-tab class="booking-tabs" label="My Bookings">
        <ng-template matTabContent>
            <div class="bookings-container" *ngIf="numberOfBookings !=null && numberOfBookings != 0; else noBookings">
                <!-- I think this is not working bc of the foreign key constraint realted to table review,but is oesno't <i class="fab fa-expeditedssl"></i>
                yet as a service. Create object in spring -->
                <!-- <ng-container *ngFor="let booking of bookingList"> -->
                <h1>Bookings List</h1>
                <div class="eachBooking">
                    <p class="hotelplace">Parador Hostal Dos Reis Catolicos</p>
                    <p class="text-muted bookingdate">Mar 22- Mar 24</p>
                    <div class="card mb-3" style="max-width: 540px;">
                        <div class="row g-0">
                            <div class="col-md-4">
                                <img src="./../../../assets/sm/Parador Hostal Dos Reis Catolicos.jpg" alt="hotel img" class="img-fluid" />
                            </div>
                            <div class="col-md-8">
                                <div class="card-body">
                                    <div class="row">
                                        <h2 class="card-title"><a class="hotelDetailLink"
                                                [routerLink]="['/hotelDetail']"
                                                routerLinkActive="router-link-active">Hostal dos Reis Católicos</a></h2>
                                        <span class="bprice text-success">130€</span>
                                        <!-- <div class="dropdown">
                                            <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                <mat-icon>more_vert</mat-icon>
                                            </button>
                                            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                                <div
                                                    *ngIf="bookingCompleted !=null && bookingCompleted == true ; else bookingIncomplete">
                                                    <a class="dropdown-item" href="#"> Remove booking </a>
                                                    <a class="dropdown-item" href="#"> Book Again </a>
                                                </div>
                                                <div #bookingIncomplete>
                                                    <a class="dropdown-item" href="#">Modify booking</a>
                                                    <a class="dropdown-item" href="#">Cancel booking</a>
                                                </div>
                                            </div>
                                        </div> -->


                                    </div>
                                    <p class="card-text bdate">
                                        Mar 22 - Mar 24
                                    </p>
                                    <p class="card-text bstatus"><a class="bstatus"> {{ bookingCompleted == true ?
                                            'Completed' : 'Active'}} </a></p>
                                    <a class="bookingDetailLink" [routerLink]="['/hotelDetail']"
                                        routerLinkActive="router-link-active">View Booking</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <app-footer></app-footer>
           <!-- </ng-container> -->
            </div>
            <ng-template #noBookings>
                <div class="entireContainer">
                    <div class="glass-panel">
                        <h1>You don't have
                            any bookings yet.</h1>
                        <p>Take a look at our hotel selection to find amazing choices of safe leisure adequate to your
                            needs!</p>
                        <div class="glass-toolbar">
                            <a href="http://localhost:4200/hotels" class="glass-button">Start a new adventure!</a>
                            <a href="http://localhost:4200/home" target="_blank" class="glass-button">Go Back</a>
                        </div>
                    </div>
                    <footer class="parallax">
                        <div class="row footerRow">
                            <a href="">Find us in </a>
                            <a><i class="fab fa-facebook"></i> Facebook </a>
                            <a href=""> <i class="fab fa-instagram"></i> Instagram</a>
                            <a href=""><i class="fab fa-twitter"></i> Twitter</a>
                        </div>
                        <div class="cols footerCols">
                            <div class="col col1">
                                <p><b class="text-white">Get to know us</b></p>
                                <a href="">Who we are</a>
                                <a href="">Our vision</a>
                                <a href="">Our mission</a>
                                <a href="">Work with us!</a>
                            </div>
                            <div class="col col2">
                                <p><b class="text-white">Reach us</b></p>
                                <a href="">Any questions? Contact Us <i class="fas fa-headphones"></i></a>
                                <a href="">Become a partner</a>
                                <a href="">Advertise</a>
                                <a href="">Rewards</a>
                            </div>
                            <div class="col col3">
                                <p><b class="text-white">Your data and our data</b></p>
                                <a href="">Terms & Conditions</a>
                                <a>Privacy policy</a>
                                <a href="">Cookies</a>
                                <a>Press</a>
                            </div>
                            <div class="col col4">
                                <p><b class="text-white">Other useful information</b></p>
                                <a>Our affiliates </a>
                                <a>Safety guide</a>
                                <a href=""> Why Galicia</a>
                                <a href="">Holiday destinations</a>
                            </div>
                        </div>
                    </footer>
                </div>
            </ng-template>

        </ng-template>
    </mat-tab>
    <mat-tab label="My reviews">
        <ng-template matTabContent>
            <div class="bookings-container" *ngIf="numberOfReviews !=null && numberOfReviews != 0; else noReviews">
                Reviews list
            </div>
            <ng-template #noReviews>
                <div class="entireContainer">
                    <div class="glass-panel">
                        <h1><a href="https://superdevresources.com/glassmorphism-ui-css/" target="_blank">You don't have
                                any reviews yet.</a></h1>
                        <p>Take a look at our hotel selection to find amazing choices of safe leisure adequate to your
                            needs!</p>
                        <div class="glass-toolbar">
                            <a href="http://localhost:4200/hotels" class="glass-button">Start a new adventure!</a>
                            <a href="http://localhost:4200/home" target="_blank" class="glass-button">Go Back</a>
                        </div>
                    </div>
                    <footer class="parallax">
                        <div class="row footerRow">
                            <a href="">Find us in </a>
                            <a><i class="fab fa-facebook"></i> Facebook </a>
                            <a href=""> <i class="fab fa-instagram"></i> Instagram</a>
                            <a href=""><i class="fab fa-twitter"></i> Twitter</a>
                        </div>
                        <div class="cols footerCols">
                            <div class="col col1">
                                <p><b class="text-white">Get to know us</b></p>
                                <a href="">Who we are</a>
                                <a href="">Our vision</a>
                                <a href="">Our mission</a>
                                <a href="">Work with us!</a>
                            </div>
                            <div class="col col2">
                                <p><b class="text-white">Reach us</b></p>
                                <a href="">Any questions? Contact Us <i class="fas fa-headphones"></i></a>
                                <a href="">Become a partner</a>
                                <a href="">Advertise</a>
                                <a href="">Rewards</a>
                            </div>
                            <div class="col col3">
                                <p><b class="text-white">Your data and our data</b></p>
                                <a href="">Terms & Conditions</a>
                                <a>Privacy policy</a>
                                <a href="">Cookies</a>
                                <a>Press</a>
                            </div>
                            <div class="col col4">
                                <p><b class="text-white">Other useful information</b></p>
                                <a>Our affiliates </a>
                                <a>Safety guide</a>
                                <a href=""> Why Galicia</a>
                                <a href="">Holiday destinations</a>
                            </div>
                        </div>
                    </footer>
                </div>
            </ng-template>
        </ng-template>
    </mat-tab>
    <mat-tab label="My Account">
        <ng-template matTabContent>
            <div class="bookings-container">
                <h1>{{ currentUser.username }}'s' Account</h1>
                <div class="container profile">
                    <h2 class="account-option">My Personal Data</h2>
                    <form class="formulario col-xs-8 col-sm-10 col-md-6 col-bg-5">
                        <!-- {{firstname.value | json}} -->
                        <div class="form-group">
                            <div class="row">
                                <mat-form-field appearance="outline" title="Username">
                                    <mat-label class="help-block">
                                        Username
                                    </mat-label>
                                    <input matInput type="text" required [matAutocomplete]="auto" name="username"
                                        id="username" [(ngModel)]="currentUser.username" placeholder="currentUser.username"> 
                                </mat-form-field>
                                <!-- <small class="wrong-field" *ngIf="firstname.touched && firstname.invalid">First Name is -->
                                <!-- required</small> -->
                                <mat-form-field appearance="outline" title="First Name">
                                    <mat-label class="help-block">
                                        First Name
                                    </mat-label>
                                    <input matInput type="text" required [matAutocomplete]="auto" name="firstname"
                                        id="firstname">
                                </mat-form-field>
                                <mat-form-field appearance="outline" title="Last Name">
                                    <mat-label class="help-block">
                                        Last Name
                                    </mat-label>
                                    <input matInput type="text" required [matAutocomplete]="auto" name="lastname"
                                        id="lastname">
                                </mat-form-field>
                            </div>
                            <div class="row">
                                <mat-form-field appearance="outline" title="Country">
                                    <mat-label class="help-block">
                                        Country
                                    </mat-label>
                                    <input matInput type="country" required [matAutocomplete]="auto" name="country"
                                        id="country">
                                </mat-form-field>
                                <mat-form-field appearance="outline" title="Language">
                                    <mat-label class="help-block">
                                        <!-- i am erasing this as soon as I create a language button in my main navbar just like in Balearia's site. Or if I place it in preferences. buthaving it here and in the navbar seems also lik a plausible option -->
                                        Language
                                    </mat-label>
                                    <input matInput type="text" required [matAutocomplete]="auto" name="language"
                                        id="language">
                                </mat-form-field>
                            </div>
                            <div class="row">
                                <mat-form-field appearance="outline" title="Birth Date">
                                    <mat-label class="help-block">
                                        Birth Date
                                    </mat-label>
                                    <input matInput type="date" required [matAutocomplete]="auto" name="birthdate"
                                        id="birthdate">
                                </mat-form-field>
                                <mat-form-field appearance="outline" title="Phone">
                                    <mat-label class="help-block">
                                        Phone Number
                                    </mat-label>
                                    <input type="tel" matInput id="phone" name="phone"
                                        pattern="[0-9]{3}-[0-9]{2}-[0-9]{3}" type="phone" required
                                        [matAutocomplete]="auto">
                                </mat-form-field>
                            </div>
                            <div class="row">
                                <mat-form-field appearance="outline" title="email">
                                    <mat-label class="help-block">
                                        Email linked to your account
                                    </mat-label>
                                    <input matInput type="email" required [matAutocomplete]="auto" name="email"
                                        id="email" [(ngModel)]="currentUser.email" placeholder="currentUser.email">
                                </mat-form-field>
                            </div>
                        </div>
                        <button type="submit" mat-raised-button color="accent"> Save changes </button>
                    </form>
                </div>
                <div class="container profile">
                    <form action="" class="form-group">
                        <h2 class="account-option">Preferences</h2>
                        <div class="eachoption-group">
                            <h3>Accessibility</h3>
                            <p>
                                <mat-checkbox formControlName="Accessibility">Browse only through accessible properties
                                </mat-checkbox>
                            </p>
                        </div>
                        <div class="eachoption-group">
                            <h3 class="elev">Currency</h3>
                            <mat-form-field appearance="outline" title="currency">
                                <mat-label class="help-block" id="adultsNumber">
                                    Preferred Currency
                                </mat-label>
                                <mat-select id="currency" placeholder="{{selectedCurrency}}"
                                    [(ngModel)]="selectedCurrency" name="currency">
                                    <mat-option *ngFor="let item of currencies" [value]="item">
                                        {{item}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div class="eachoption-group">
                            <h3>Newsletter</h3>
                            <mat-slide-toggle>Subscribe to our Newsletter and get the best deals</mat-slide-toggle>
                        </div>
                    </form>
                </div>
                <div class="container profile">
                    <h2 class="account-option">Security</h2>
                    <div class="eachoption-group">
                        <form action="" class="form-group">
                            <div class="row">
                                <h3 class="elev">Change Password</h3>
                                <mat-form-field class="pass" appearance="outline" title="Current Password">
                                    <mat-label class="help-block">
                                        Current Password
                                    </mat-label>
                                    <input matInput type="password" required name="cpassword" id="cpassword">
                                </mat-form-field>
                                <mat-form-field class="pass" appearance="outline" title="New Password">
                                    <mat-label class="help-block">
                                        New Password
                                    </mat-label>
                                    <input matInput type="password" required [matAutocomplete]="auto" name="npassword"
                                        id="npassword">
                                </mat-form-field>
                                <button class="savePass" type="submit" mat-raised-button color="warm"> Change Password
                                </button>
                            </div>
                        </form>
                    </div>
                    <div class="eachoption-group">
                        <form action="" class="form-group">
                            <div class="row">
                                <h3 class="elev">Delete Account</h3>
                                <mat-form-field class="pass" appearance="outline" title="Current Password">
                                    <mat-label class="help-block">
                                        Enter Password
                                    </mat-label>
                                    <input matInput type="password" required name="cpassword" id="cpassword">
                                </mat-form-field>
                                <div class="col">
                                    <button class="savePass" type="submit" mat-raised-button color="warm">
                                        Delete Account <mat-icon>warning</mat-icon>
                                    </button>
                                    <mat-hint> Changes cannot be unmade! </mat-hint>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <app-footer></app-footer>
        </ng-template>
    </mat-tab>
    <!-- <mat-tab label="Settings">
        <ng-template matTabContent>
            <div class="bookings-container">
                <h1>Account Settings</h1>
                <div class="container profile">
                    <form action="" class="form-group">
                        <h2 class="account-option">Preferences</h2>
                        <div class="eachoption-group">
                            <h3>Accessibility</h3>
                            <p>
                                <mat-checkbox formControlName="Accessibility">Browse only through accessible properties
                                </mat-checkbox>
                            </p>
                        </div>
                        <div class="eachoption-group">
                            <h3>Currency</h3>
                            <mat-form-field appearance="outline" title="currency">
                                <mat-label class="help-block" id="adultsNumber">
                                    Preferred Currency
                                </mat-label>
                                <mat-select id="currency" placeholder="{{selectedCurrency}}"
                                    [(ngModel)]="selectedCurrency" name="currency">
                                    <mat-option *ngFor="let item of currencies" [value]="item">
                                        {{item}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div class="eachoption-group">
                            <h3>Newsletter</h3>
                            <mat-slide-toggle>Subscribe to our Newsletter and get the best deals</mat-slide-toggle>
                        </div>
                    </form>
                </div>
                <div class="container profile">
                    <h2 class="account-option">Security</h2>
                    <div class="eachoption-group">
                        <form action="" class="form-group">
                            <div class="row">
                                <h3>Change Password</h3>
                                <mat-form-field class="pass" appearance="outline" title="Current Password">
                                    <mat-label class="help-block">
                                        Current Password
                                    </mat-label>
                                    <input matInput type="password" required name="cpassword" id="cpassword">
                                </mat-form-field>
                                <mat-form-field class="pass" appearance="outline" title="New Password">
                                    <mat-label class="help-block">
                                        New Password
                                    </mat-label>
                                    <input matInput type="password" required [matAutocomplete]="auto" name="npassword"
                                        id="npassword">
                                </mat-form-field>
                                <button class="savePass" type="submit" mat-raised-button color="warm"> Change Password
                                </button>
                            </div>
                        </form>
                    </div>
                    <div class="eachoption-group">
                        <form action="" class="form-group">
                            <div class="row">
                                <h3>Delete Account</h3>
                                <mat-form-field class="pass" appearance="outline" title="Current Password">
                                    <mat-label class="help-block">
                                        Enter Password
                                    </mat-label>
                                    <input matInput type="password" required name="cpassword" id="cpassword">
                                </mat-form-field>
                                <div class="col">
                                    <button class="savePass" type="submit" mat-raised-button color="warm">
                                        Delete Account <mat-icon>warning</mat-icon>
                                    </button>
                                    <mat-hint> Changes cannot be unmade! </mat-hint>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <app-footer></app-footer>
        </ng-template>
    </mat-tab> -->
</mat-tab-group>
</div>
<ng-template #loggedOut>
    Please log in!
</ng-template>
<!-- <app-footer></app-footer> -->